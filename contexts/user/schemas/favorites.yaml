components:
  schemas:
    FavoritesResponse:
      type: object
      required:
        - products
        - shops
      properties:
        products:
          type: array
          items:
            $ref: '../schemas/product.yaml#/components/schemas/PublicProduct'
          description: お気に入り商品リスト
        shops:
          type: array
          items:
            $ref: '../schemas/shop.yaml#/components/schemas/Shop'
          description: お気に入りショップリスト

    FavoriteList:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/Favorite'
        total:
          type: integer
          description: 総数
        page:
          type: integer
          description: 現在のページ
        per_page:
          type: integer
          description: 1ページあたりの件数

    AddFavoriteResponse:
      type: object
      required:
        - message
      properties:
        message:
          type: string
          description: 追加成功メッセージ
      example:
        message: 商品をお気に入りに追加しました

    AlreadyFavoriteResponse:
      type: object
      required:
        - message
        - alreadyFavorite
      properties:
        message:
          type: string
          description: 既に追加済みメッセージ
        alreadyFavorite:
          type: boolean
          description: 既にお気に入りに追加済みフラグ
      example:
        message: すでにお気に入りに追加されています
        alreadyFavorite: true

    DeleteFavoriteResponse:
      type: object
      required:
        - message
      properties:
        message:
          type: string
          description: 削除成功メッセージ
      example:
        message: 商品がお気に入りから削除されました

    AlreadyDeletedFavoriteResponse:
      type: object
      required:
        - message
      properties:
        message:
          type: string
          description: すでに削除済みメッセージ
      example:
        message: すでにお気に入りから削除されています

    CheckFavoritesRequest:
      type: object
      description: 複数商品のIDを指定してお気に入り状態を確認するリクエスト
      required:
        - productIds
      properties:
        productIds:
          type: array
          items:
            type: integer
            format: int64

    CheckFavoriteStatus:
      type: object
      description: 商品のお気に入り状態
      required:
        - productId
        - isFavorite
      properties:
        productId:
          type: integer
          format: int64
        isFavorite:
          type: boolean

    CheckFavoritesResponse:
      type: array
      items:
        $ref: '#/components/schemas/CheckFavoriteStatus'
      example:
        - productId: 1
          isFavorite: true
        - productId: 2
          isFavorite: false
