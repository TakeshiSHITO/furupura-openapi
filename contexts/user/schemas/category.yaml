components:
  schemas:
    Category:
      type: object
      required:
        - categoryId
        - name
        - categorySlug
      properties:
        categoryId:
          type: integer
          description: カテゴリーID
          example: 1
        name:
          type: string
          description: カテゴリー名
          example: ファッション
        categorySlug:
          type: string
          description: URLスラッグ
          example: fashion
        parentId:
          type: [integer, 'null']
          description: 親カテゴリーID
          example: null
        measurements:
          type: [object, 'null']
          description: このカテゴリーで使用される測定項目
          example:
            size: string
            color: string
            material: string

    CategoryWithChildren:
      allOf:
        - $ref: '#/components/schemas/Category'
        - type: object
          properties:
            childrenCategories:
              type: array
              items:
                $ref: '#/components/schemas/CategoryWithChildren'
              description: 子カテゴリーのリスト

    CategoryTree:
      type: array
      items:
        $ref: '#/components/schemas/CategoryWithChildren'
      description: カテゴリーの階層構造

    CategoryMap:
      type: object
      additionalProperties:
        type: object
        properties:
          categoryId:
            type: integer
            description: カテゴリーID
          name:
            type: string
            description: カテゴリー名
          categorySlug:
            type: string
            description: URLスラッグ
          parentId:
            type: [integer, 'null']
            description: 親カテゴリーID
          measurements:
            type: [array, 'null']
            items:
              type: string
            description: 測定項目
      description: カテゴリーIDをキーとしたカテゴリー情報のマップ
      example:
        '1':
          categoryId: 1
          name: ファッション
          categorySlug: fashion
          parentId: null
          measurements: ['size', 'color']
        '2':
          categoryId: 2
          name: メンズファッション
          categorySlug: mens-fashion
          parentId: 1
          measurements: ['size', 'color', 'fit']

    CategoryInfo:
      type: object
      properties:
        categoryId:
          type: [integer, 'null']
          description: カテゴリーID
        name:
          type: string
          description: カテゴリー名
        categorySlug:
          type: string
          description: URLスラッグ
        parentId:
          type: [integer, 'null']
          description: 親カテゴリーID
        measurements:
          type: [array, 'null']
          items:
            type: string
          description: 測定項目
      description: 商品に付属するカテゴリー情報
