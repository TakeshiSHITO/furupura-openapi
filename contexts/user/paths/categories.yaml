/categories:
  get:
    tags:
      - browsing
    summary: カテゴリー一覧取得
    description: すべてのカテゴリーを取得します
    operationId: getCategories
    security: []
    responses:
      '200':
        description: カテゴリー一覧
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '../schemas/category.yaml#/components/schemas/Category'
      '400':
        $ref: '../../../shared/responses/common.yaml#/components/responses/BadRequest'
      '500':
        $ref: '../../../shared/responses/common.yaml#/components/responses/InternalServerError'

/categories/tree:
  get:
    tags:
      - browsing
    summary: カテゴリー階層構造取得
    description: カテゴリーの階層構造をツリー形式で取得します（Redisキャッシュ対応）
    operationId: getCategoryTree
    security: []
    responses:
      '200':
        description: カテゴリー階層構造
        content:
          application/json:
            schema:
              $ref: '../schemas/category.yaml#/components/schemas/CategoryTree'
      '400':
        $ref: '../../../shared/responses/common.yaml#/components/responses/BadRequest'
      '500':
        $ref: '../../../shared/responses/common.yaml#/components/responses/InternalServerError'

/categories/map:
  get:
    tags:
      - browsing
    summary: カテゴリーマップ取得
    description: カテゴリーIDをキーとしたマップ形式でカテゴリー情報を取得します（高速検索用）
    operationId: getCategoryMap
    security: []
    responses:
      '200':
        description: カテゴリーマップ
        content:
          application/json:
            schema:
              $ref: '../schemas/category.yaml#/components/schemas/CategoryMap'
      '400':
        $ref: '../../../shared/responses/common.yaml#/components/responses/BadRequest'
      '500':
        $ref: '../../../shared/responses/common.yaml#/components/responses/InternalServerError'

/categories/{id}:
  get:
    tags:
      - browsing
    summary: カテゴリー詳細取得（ID指定）
    description: 指定されたIDのカテゴリー情報を取得します
    operationId: getCategoryById
    security: []
    parameters:
      - name: id
        in: path
        required: true
        description: カテゴリーID
        schema:
          type: integer
          example: 1
    responses:
      '200':
        description: カテゴリー詳細
        content:
          application/json:
            schema:
              $ref: '../schemas/category.yaml#/components/schemas/Category'
      '404':
        $ref: '../../../shared/responses/common.yaml#/components/responses/NotFound'
      '500':
        $ref: '../../../shared/responses/common.yaml#/components/responses/InternalServerError'

/categories/slug/{slug}:
  get:
    tags:
      - browsing
    summary: カテゴリー詳細取得（スラッグ指定）
    description: 指定されたスラッグのカテゴリー情報を取得します
    operationId: getCategoryBySlug
    security: []
    parameters:
      - name: slug
        in: path
        required: true
        description: カテゴリースラッグ
        schema:
          type: string
          example: fashion
    responses:
      '200':
        description: カテゴリー詳細
        content:
          application/json:
            schema:
              $ref: '../schemas/category.yaml#/components/schemas/Category'
      '404':
        $ref: '../../../shared/responses/common.yaml#/components/responses/NotFound'
      '500':
        $ref: '../../../shared/responses/common.yaml#/components/responses/InternalServerError'
