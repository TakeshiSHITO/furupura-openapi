/products:
  get:
    tags:
      - browsing
    summary: 商品一覧取得（公開商品のみ）
    description: 公開されている商品の一覧を取得します。カテゴリや価格帯でフィルタリング可能です。
    operationId: browseProducts
    security: []
    parameters:
      - name: keyword
        in: query
        description: 検索キーワード（商品名・説明文で検索）
        schema:
          type: string
      - name: categorySlug
        in: query
        description: カテゴリースラッグ
        schema:
          type: string
      - name: brandSlug
        in: query
        description: ブランドスラッグ
        schema:
          type: string
      - name: minPrice
        in: query
        description: 最低価格
        schema:
          type: integer
          minimum: 0
      - name: maxPrice
        in: query
        description: 最高価格
        schema:
          type: integer
          minimum: 0
      - name: area
        in: query
        description: エリアID
        schema:
          type: integer
      - name: gender
        in: query
        description: 性別（1:メンズ, 2:レディース, 3:ユニセックス, 4:キッズ）
        schema:
          type: integer
          enum: [1, 2, 3, 4]
      - name: sizes
        in: query
        description: サイズラベル（カンマ区切り）
        schema:
          type: array
          items: { type: string }
        style: form
        explode: false
      - name: colors
        in: query
        schema:
          type: array
          items: { type: string }
        style: form
        explode: false
      - name: condition
        in: query
        description: 商品状態
        schema:
          type: string
      - name: material
        in: query
        description: 素材
        schema:
          type: string
      - name: shopId
        in: query
        description: ショップID
        schema:
          type: integer
          format: int64
      - name: tag
        in: query
        description: タグID
        schema:
          type: integer
          format: int64
      - name: sortBy
        in: query
        description: ソート項目
        schema:
          type: string
          enum: [price, name, createdAt]
          default: createdAt
      - name: sortOrder
        in: query
        description: ソート順
        schema:
          type: string
          enum: [ASC, DESC]
          default: DESC
      - name: page
        in: query
        schema: { type: integer, minimum: 1, default: 1 }
      - name: pageSize
        in: query
        schema: { type: integer, minimum: 1, default: 24, maximum: 100 }
    responses:
      '200':
        description: 商品一覧
        content:
          application/json:
            schema:
              $ref: '../schemas/browsing.yaml#/components/schemas/BrowseProductsResponse'
      '400':
        $ref: '../../../shared/responses/common.yaml#/components/responses/BadRequest'
      '500':
        $ref: '../../../shared/responses/common.yaml#/components/responses/InternalServerError'

/products/{productId}:
  get:
    tags:
      - browsing
    summary: 商品詳細取得
    description: 指定されたIDの商品詳細情報を取得します
    operationId: getProductById
    security: []
    parameters:
      - name: productId
        in: path
        required: true
        description: 商品ID
        schema:
          type: integer
          format: int64
    responses:
      '200':
        description: 商品詳細
        content:
          application/json:
            schema:
              $ref: '../schemas/product.yaml#/components/schemas/ProductDetail'
      '404':
        $ref: '../../../shared/responses/common.yaml#/components/responses/NotFound'
      '500':
        $ref: '../../../shared/responses/common.yaml#/components/responses/InternalServerError'
