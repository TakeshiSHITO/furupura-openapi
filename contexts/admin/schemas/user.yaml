components:
  schemas:
    User:
      type: object
      required:
        - id
        - email
        - name
        - status
      properties:
        id:
          type: string
          format: uuid
        email:
          type: string
          format: email
        name:
          type: string
        phone:
          type: string
        status:
          type: string
          enum:
            - active
            - suspended
            - deleted
        created_at:
          type: string
          format: date-time
        last_login_at:
          type: string
          format: date-time
          
    UserDetail:
      allOf:
        - $ref: '#/components/schemas/User'
        - type: object
          properties:
            addresses:
              type: array
              items:
                $ref: '../../../shared/schemas/common.yaml#/components/schemas/Address'
            order_count:
              type: integer
              minimum: 0
            total_spent:
              type: integer
              minimum: 0
            notes:
              type: string
              description: 管理者用メモ
              
    UpdateUserRequest:
      type: object
      properties:
        status:
          type: string
          enum:
            - active
            - suspended
        notes:
          type: string
          maxLength: 1000